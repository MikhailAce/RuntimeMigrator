# RuntimeMigrator

Термины

- Миграция – объект, содержащий блок SQL команд «up» для обновления БД и блок SQL команд «down» для отката изменений из блока «up».
- Задекларированная миграция – файл миграции, который хранится в директории приложения.
- Примененная миграция – миграция, которая была применена к БД. Все идентификаторы примененных миграций хранятся в таблице журнала "__EFMigrationsHistory".
- Процесс миграции – состояние, когда имеются задекларированные непримененные миграции.

Описание

Работа с миграциями максимально возможно приближена к стандартной схеме работы с миграциями в системах, использующих Entity Framework.
Для более глубокого понимания работы механизма миграции, разработчикам рекомендуется для начала изучить документацию по миграциям для Entity Framework Core: https://docs.microsoft.com/ru-ru/ef/core/managing-schemas/migrations/?tabs=dotnet-core-cli

Принцип работы

Для определения различий и создания файла миграции система сравнивает актуальный снимок модели БД, который хранится в системной таблице "modelsnapshot", с текущей структурой моделей данных.
После применения миграций, БД будет обновлена, и все примененные миграции будут записаны в специальную таблицу журнала "__EFMigrationsHistory", из которой будет ясно, какие миграции были применены.